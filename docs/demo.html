<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Coffee Sales Demo (HTML)</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; margin: 0; background: #f8fafc; color: #0f172a; }
      .container { max-width: 1100px; margin: 0 auto; padding: 2rem 1rem 4rem; }
      h1 { margin-top: 0; }
      .chart-grid { display: grid; gap: 1.75rem; margin-top: 1.5rem; }
      @media (min-width: 900px) {
        .chart-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
        .chart-grid .chart-card:nth-child(3) { grid-column: span 2; }
      }
      .chart-card { background: #ffffff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 1.5rem; box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08); }
      .chart-card h3 { margin-top: 0; margin-bottom: 1rem; font-size: 1.1rem; }
      .chart-card canvas { max-height: 420px; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>Coffee Sales Interactive Charts</h1>
      <p>This standalone HTML mirrors the interactive charts from the Markdown page.</p>

      <div class="chart-grid">
        <section class="chart-card">
          <h3>Monthly Total Sales</h3>
          <canvas id="totalSalesChart"></canvas>
        </section>
        <section class="chart-card">
          <h3>Sales Breakdown by Channel</h3>
          <canvas id="channelBreakdownChart"></canvas>
        </section>
        <section class="chart-card">
          <h3>Marketing Spend vs. Total Sales</h3>
          <canvas id="marketingScatterChart"></canvas>
        </section>
      </div>
    </div>

    <script id="coffee-chart-data" type="application/json">
    {"months": ["2023-01", "2023-02", "2023-03", "2023-04", "2023-05", "2023-06", "2023-07", "2023-08", "2023-09", "2023-10", "2023-11", "2023-12"], "total_sales": [60000.0, 57000.0, 66000.0, 64500.0, 75000.0, 79000.0, 83000.0, 79000.0, 77000.0, 73500.0, 71000.0, 87000.0], "online_sales": [32000.0, 31000.0, 36000.0, 35000.0, 42000.0, 45000.0, 47000.0, 44000.0, 43000.0, 41000.0, 40000.0, 49000.0], "in_store_sales": [28000.0, 26000.0, 30000.0, 29500.0, 33000.0, 34000.0, 36000.0, 35000.0, 34000.0, 32500.0, 31000.0, 38000.0], "marketing_spend": [12000.0, 11000.0, 15000.0, 14000.0, 18000.0, 20000.0, 21000.0, 19000.0, 17000.0, 16000.0, 15000.0, 22000.0], "scatter_points": [{"x": 12000.0, "y": 60000.0}, {"x": 11000.0, "y": 57000.0}, {"x": 15000.0, "y": 66000.0}, {"x": 14000.0, "y": 64500.0}, {"x": 18000.0, "y": 75000.0}, {"x": 20000.0, "y": 79000.0}, {"x": 21000.0, "y": 83000.0}, {"x": 19000.0, "y": 79000.0}, {"x": 17000.0, "y": 77000.0}, {"x": 16000.0, "y": 73500.0}, {"x": 15000.0, "y": 71000.0}, {"x": 22000.0, "y": 87000.0}], "regression_points": [{"x": 12000.0, "y": 60542.71356783919}, {"x": 11000.0, "y": 57944.72361809046}, {"x": 15000.0, "y": 68336.68341708543}, {"x": 14000.0, "y": 65738.69346733668}, {"x": 18000.0, "y": 76130.65326633166}, {"x": 20000.0, "y": 81326.63316582915}, {"x": 21000.0, "y": 83924.62311557788}, {"x": 19000.0, "y": 78728.64321608041}, {"x": 17000.0, "y": 73532.66331658291}, {"x": 16000.0, "y": 70934.67336683418}, {"x": 15000.0, "y": 68336.68341708543}, {"x": 22000.0, "y": 86522.61306532664}]}
    </script>

    <script>
      const chartPayload = JSON.parse(document.getElementById('coffee-chart-data').textContent);
      const usdFormatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 });
      const numberFormatter = value => usdFormatter.format(value);

      new Chart(document.getElementById('totalSalesChart'), {
        type: 'line',
        data: {
          labels: chartPayload.months,
          datasets: [{
            label: 'Total sales',
            data: chartPayload.total_sales,
            fill: false,
            tension: 0.25,
            borderColor: 'rgb(16, 124, 165)',
            backgroundColor: 'rgba(16, 124, 165, 0.1)',
            pointRadius: 5,
            pointHoverRadius: 7,
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              ticks: { callback: value => numberFormatter(value) },
              beginAtZero: false,
            }
          },
          plugins: {
            tooltip: {
              callbacks: {
                label: context => `${context.dataset.label}: ${numberFormatter(context.parsed.y)}`
              }
            },
            legend: { display: false }
          }
        }
      });

      new Chart(document.getElementById('channelBreakdownChart'), {
        type: 'bar',
        data: {
          labels: chartPayload.months,
          datasets: [
            {
              label: 'In-store sales',
              data: chartPayload.in_store_sales,
              backgroundColor: 'rgba(234, 88, 12, 0.85)',
              stack: 'sales',
            },
            {
              label: 'Online sales',
              data: chartPayload.online_sales,
              backgroundColor: 'rgba(34, 197, 94, 0.85)',
              stack: 'sales',
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              stacked: true,
              ticks: { callback: value => numberFormatter(value) },
              beginAtZero: true,
            },
            x: { stacked: true }
          },
          plugins: {
            tooltip: {
              callbacks: {
                label: context => `${context.dataset.label}: ${numberFormatter(context.parsed.y)}`
              }
            }
          }
        }
      });

      new Chart(document.getElementById('marketingScatterChart'), {
        type: 'scatter',
        data: {
          datasets: [
            {
              label: 'Monthly totals',
              data: chartPayload.scatter_points,
              backgroundColor: 'rgba(59, 130, 246, 0.85)',
              pointRadius: 6,
            },
            {
              type: 'line',
              label: 'Regression line',
              data: chartPayload.regression_points,
              borderColor: 'rgba(239, 68, 68, 0.9)',
              borderWidth: 2,
              pointRadius: 0,
              fill: false,
              tension: 0,
              parsing: {
                xAxisKey: 'x',
                yAxisKey: 'y',
              }
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            x: {
              title: { display: true, text: 'Marketing spend (USD)' },
              ticks: { callback: value => numberFormatter(value) },
            },
            y: {
              title: { display: true, text: 'Total sales (USD)' },
              ticks: { callback: value => numberFormatter(value) },
            }
          },
          plugins: {
            tooltip: {
              callbacks: {
                label: context => numberFormatter(context.parsed.x) + ' â†’ ' + numberFormatter(context.parsed.y)
              }
            }
          }
        }
      });
    </script>
  </body>
  </html>

